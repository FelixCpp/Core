// 
// Rectangle.hpp
// Core
// 
// Created by Felix Busch on 17.02.2022.
// Copyright © 2022 Felix Busch. All rights reserved.
// 

#pragma once

#include <Core/System/Value2.hpp>

#include <cstdint>

namespace Core
{
	////////////////////////////////////////////////////////////
	/// \brief Define rectangle structure
	///
	////////////////////////////////////////////////////////////
	template<typename T>
	struct Rectangle
	{
		////////////////////////////////////////////////////////////
		/// \brief Default constructor
		///
		///	This constructor initializes the member attributes to their
		///	initial state
		/// 
		////////////////////////////////////////////////////////////
		constexpr Rectangle();

		////////////////////////////////////////////////////////////
		/// \brief Constructs a rectangle based on four edges
		/// 
		////////////////////////////////////////////////////////////
		constexpr Rectangle(T left, T top, T width, T height);

		////////////////////////////////////////////////////////////
		/// \brief Copy constructor
		/// 
		////////////////////////////////////////////////////////////
		template<typename TOther>
		constexpr Rectangle(const Rectangle<TOther>& other);

		////////////////////////////////////////////////////////////
		/// \brief Get the center coordinate
		/// 
		////////////////////////////////////////////////////////////
		constexpr Value2<T> GetCenter() const;

		////////////////////////////////////////////////////////////
		/// \brief Checks if the given coordinate is inside
		///		   the boundary
		/// 
		////////////////////////////////////////////////////////////
		constexpr bool Contains(const T& x, const T& y) const;

		////////////////////////////////////////////////////////////
		/// \brief Checks if the given coordinate is inside
		///		   the boundary
		/// 
		////////////////////////////////////////////////////////////
		constexpr bool Contains(const Value2<T>& point) const;

		////////////////////////////////////////////////////////////
		/// Member data
		/// 
		////////////////////////////////////////////////////////////
		T Left;		//!< The left edge of the rectangle
		T Top;		//!< The top edge of the rectangle
		T Width;	//!< The width of the rectangle
		T Height;	//!< The height of the rectangle
	};

	////////////////////////////////////////////////////////////
	/// Boolean operators
	/// 
	////////////////////////////////////////////////////////////
	template<typename T> bool operator == (const Rectangle<T>& lhs, const Rectangle<T>& rhs);
	template<typename T> bool operator != (const Rectangle<T>& lhs, const Rectangle<T>& rhs);

	////////////////////////////////////////////////////////////
	/// Types
	/// 
	////////////////////////////////////////////////////////////
	using IntRect = Rectangle<int32_t>;
	using FloatRect = Rectangle<float>;
}

#include <Core/System/Rectangle.inl>
